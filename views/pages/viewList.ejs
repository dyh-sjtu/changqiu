<% include ../includes/backend-head.ejs %>
<body style="overflow-x: hidden;background-color: #eee;">
<% include ../includes/backend-header.ejs %>
<div class="main">
    <% include ../includes/backend-sidebar.ejs %>
    <div class="backend-container">
        <div class="row pb-10" style="margin-right: 0;margin-left: 0">
            <h2 class="w100 tc">官网访问统计</h2>
        </div>
        <hr class="layui-bg-blue pt-5">
        <div class="backend-content" style="overflow: scroll">
            <!--按日查询-->
            <div class="layui-container">
                <div class="layui-row">
                    <div class="pt-20">
                        <div class="layui-form">
                            <div class="layui-form-item">
                                <label class="layui-form-label" for="date_select_day"
                                       style="width: 120px;">按单个日期查询</label>
                                <div class="layui-input-block">
                                    <input type="text" class="layui-input" style="display: inline-block;width: 300px"
                                           placeholder="yyyy-MM-dd" id="date_select_day">
                                    <i class="layui-icon layui-icon-date"
                                       style="font-size: 28px; color: #409388;position: relative;top:6px;left:-35px"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="day_pv_show" style="width:100%;height:400px"></div>

                <div class="layui-row mb-50 mt-20">
                    <div class="layui-col-xl12 layui-col-lg12 layui-col-md12 pl-50 tc">
                        <h3 id="day_current_pvs"></h3>
                        <h3 id="day_current_uvs"></h3>
                    </div>
                </div>
            </div>

            <hr class="layui-bg-blue">

            <!--按月查询-->
            <div class="layui-container">
                <div class="layui-row">
                    <div class="pt-20">
                        <div class="layui-form">
                            <div class="layui-form-item">
                                <label class="layui-form-label" for="date_select_month"
                                       style="width: 120px;">按月份查询</label>
                                <div class="layui-input-block">
                                    <input type="text" class="layui-input" style="display: inline-block;width: 300px"
                                           placeholder="yyyy-MM" id="date_select_month">
                                    <i class="layui-icon layui-icon-date"
                                       style="font-size: 28px; color: #409388;position: relative;top:6px;left:-35px"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="month_pv_show" style="width:100%;height:400px;"></div>

                <div class="layui-row mb-50">
                    <div class="layui-col-xl12 layui-col-lg12 layui-col-md12 pl-50 tc">
                        <h3 id="month_current_pvs"></h3>
                        <h3 id="month_current_uvs"></h3>
                    </div>
                </div>
            </div>

			<hr class="layui-bg-blue">

			<!--按年查询-->
			<div class="layui-container">
				<div class="layui-row">
					<div class="pt-20">
						<div class="layui-form">
							<div class="layui-form-item">
								<label class="layui-form-label" for="date_select_year"
									   style="width: 120px;">按年份查询</label>
								<div class="layui-input-block">
									<input type="text" class="layui-input" style="display: inline-block;width: 300px"
										   placeholder="yyyy" id="date_select_year">
									<i class="layui-icon layui-icon-date"
									   style="font-size: 28px; color: #409388;position: relative;top:6px;left:-35px"></i>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div id="year_pv_show" style="width:100%;height:400px;"></div>

				<div class="layui-row mb-50">
					<div class="layui-col-xl12 layui-col-lg12 layui-col-md12 pl-50 tc">
						<h3 id="year_current_pvs"></h3>
						<h3 id="year_current_uvs"></h3>
					</div>
				</div>
			</div>

			<hr class="layui-bg-blue">
			<div class="layui-row pb-25 pt-25">
				<div class="layui-col-xl12 layui-col-lg12 layui-col-md12 pl-50 tc">
					<h3>网站累计总访客数: <%= allIps.length %></h3>
					<h3>网站累计总浏览数: <%= allPvs.length %></h3>
				</div>
			</div>

        </div>
    </div>
</div>
</div>

<script src="https://cdn.bootcss.com/echarts/4.2.0-rc.2/echarts.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script src="https://nmist.oss-cn-hangzhou.aliyuncs.com/js/getViewDataOfDay.js" type="text/javascript"></script>
<script src="https://nmist.oss-cn-hangzhou.aliyuncs.com/js/getViewDataOfMonth.js" type="text/javascript"></script>
<script src="https://nmist.oss-cn-hangzhou.aliyuncs.com/js/getViewDataOfYear.js" type="text/javascript"></script>
</body>